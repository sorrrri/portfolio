<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Renault Samsung Chatbot Admin</title>
<link rel="stylesheet" href="assets/css/common.css" />
<link rel="stylesheet" href="assets/css/admin.css" />
<link rel="stylesheet" href="assets/css/chart.css" />
<script src="assets/js/scrollbar.js"></script>
<!--[if lt IE 9]> 
<script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script>
<![endif]-->
</head>
<body>
	<div class="admin manager_main">
		<!-- start Aside -->
		<div class="aside aside-01 hide">
			<h5>상담톡 관리 System</h5>
			<ul class="accordion-menu">
				<li><a href="dashboard.html">대시보드</a></li>
				<li><a href="angel.html">상담</a></li>
				<li><a href="monitoring.html">상담 모니터링</a></li>
				<li>
					<div class="dropdownlink">
						<a href="#">상담운영관리<i class="fa fa-chevron-down"
							aria-hidden="true"></i></a>
					</div>
					<ul class="submenuItems">
						<li><a href="assignments.html">배분</a></li>
						<li><a href="hours.html">상담시간</a></li>
						<li><a href="days.html">휴일</a></li>
					</ul>
				</li>
				<li>
					<div class="dropdownlink">
						<a href="#">상담현황<i class="fa fa-chevron-down"
							aria-hidden="true"></i></a>
					</div>
					<ul class="submenuItems">
						<li><a href="report.html">채팅통계</a></li>
						<li><a href="report_raw.html">채팅통계(Row Data)</a></li>
						<li><a href="report_history.html">상담이력</a></li>
					</ul>
				</li>
				<li>
					<div class="dropdownlink">
						<a href="#">컨텐츠 관리 <i class="fa fa-chevron-down"
							aria-hidden="true"></i></a>
					</div>
					<ul class="submenuItems">
						<li><a href="faq.html">자주묻는 질문</a></li>
						<li><a href="warning.html">경고등</a></li>
						<li><a href="emergency.html">응급조치</a></li>
						<li><a href="message.html">차량메세지</a></li>
					</ul>
				</li>
				<li>
					<div class="dropdownlink">
						<a href="#">시스템 관리 <i class="fa fa-chevron-down"
							aria-hidden="true"></i></a>
					</div>
					<ul class="submenuItems">
						<li><a href="user.html">사용자</a></li>
						<li><a href="sentences.html">자주쓰는 문구</a></li>
						<li><a href="forbidden.html">금칙어</a></li>
					</ul>
				</li>
			</ul>
		</div>
		<!-- end Aside -->
		<div class="content">
			<div class="header">
				<div class="menu menu-01">
					<span></span> <span></span> <span></span> <span></span>
				</div>
				<a href="index_02.html"><i class="logo"></i></a>
				<ul>
					<li>상담가능여부 :</li>
					<li>
						<div class="toggle-btn active">
							<input type="checkbox" checked class="cb-value" /> <span
								class="round-btn"></span>
						</div>
					</li>
					<li><a href="#">홍길동</a></li>
					<li><a href="#">로그아웃</a></li>
				</ul>
			</div>
			<!-- end Header -->
			<div class="container">
				<div class="panel">
					<div class="title">
						<h3>2019. 05. 23 대시보드 (르노삼성자동차_엔젤센터)</h3>
						<div class="btn-container">
							<button class="sub">오늘 대시보드</button>
							<input type="text" id="datepicker" /> <i
								class="far fa-calendar-alt"></i>
							<button class="main">
								<i class="fas fa-search"></i>
							</button>
						</div>
					</div>
					<!-- end Title -->
					<div class="wrapper scrollable">
						<ul class="check_list check_list_01">
							<li>
								<h1>총 인입 건</h1>
								<div>149</div>
							</li>
							<li>
								<h1>상담사 인입 건</h1>
								<div>75</div>
							</li>
							<li>
								<h1>상담사 전체처리 건</h1>
								<div>73</div>
							</li>
						</ul>
						<div class="widget">
							<div class="header">상담종료유형</div>
							<div id="chart" class="chart-container">

							</div>
							<ul class="check_list check_list_02">
								<li>
									<div>상담사</div>
									<div>75</div>
								</li>
								<li>
									<div>고객</div>
									<div>73</div>
								</li>
								<li>
									<div>시스템</div>
									<div>1</div>
								</li>
							</ul>
						</div>
						<ul class="check_list check_list_01">
							<li>
								<h1>대기 건</h1>
								<div>0</div>
							</li>
							<li>
								<h1>상담중</h1>
								<div>1</div>
							</li>
							<li>
								<h1>상담사 응대율</h1>
								<div class="donut donut--98">
									<span class="donut-count">98.5%</span>
									<div class="donut-center"></div>
									<div class="donut-mask"></div>
								</div>
							</li>
						</ul>
						<!-- <div class="widget">
							<div class="header">상담사 응대율</div>
							<div id="chart2" class="chart-container"></div>
						</div> -->
						<script
							src='http://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js'></script>
					</div>
					<!-- end Wrapper -->
				</div>
				<!-- end Panel -->
			</div>
			<!-- end Container -->
			<script
				src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
			<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
			<script>
				$(function() {
					$("#datepicker").datepicker({
						changeMonth : true,
						changeYear : true,
					});
				});
				
				var pie=d3.layout.pie().value(function(d){return d.count}).sort(null);

				var w=300,h=300;

				var outerRadiusArc=w/2;
				var innerRadiusArc=100;
				var shadowWidth=10;

				var outerRadiusArcShadow=innerRadiusArc+1;
				var innerRadiusArcShadow=innerRadiusArc-shadowWidth;

				//  Chart 1
				var dataset = [
				    { name: 'angel', count: 20 },
				    { name: 'customer', count: 30 },
				    { name: 'system', count: 0 },
				];

				var total=0;
				dataset.forEach(function(d){
				    total+= d.count;
				});

				var color = d3.scale.ordinal().range(['#FFCC33', '#2c58ff', '#7f79f7']);

				var svg = d3.select("#chart")
					.append("svg")
					.attr({
						width:w,
						height:h,
					})
					.append('g')
					.attr({
						transform:'translate('+w/2+','+h/2+')'
					});

				var createChart=function(svg,outerRadius,innerRadius,fillFunction,className){

				    var arc=d3.svg.arc()
				            .innerRadius(outerRadius)
				            .outerRadius(innerRadius);

				    var path=svg.selectAll('.'+className)
				            .data(pie(dataset))
				            .enter()
				            .append('path')
				            .attr({
				                class:className,
				                d:arc,
				                fill:fillFunction
				            });

				    path.transition()
				            .duration(1000)
				            .attrTween('d', function(d) {
				                var interpolate = d3.interpolate({startAngle: 0, endAngle: 0}, d);
				                return function(t) {
				                    return arc(interpolate(t));
				                };
				            });
				};

				createChart(svg,outerRadiusArc,innerRadiusArc,function(d,i){
				    return color(d.data.name);
				},'path1');

				createChart(svg,outerRadiusArcShadow,innerRadiusArcShadow,function(d,i){
				    var c=d3.hsl(color(d.data.name));
				    return d3.hsl((c.h+5), (c.s -.07), (c.l -.15));
				},'path2');

				var addText= function (text,y,size) {
				    svg.append('text')
				            .text(text)
				            .attr({
				                'text-anchor':'middle',
				                y:y
				            })
				            .style({
				                fill:'black',
				                'font-size':size
				            });
				};

				var restOfTheData=function(){

				    addText(function(){
				        return numberWithCommas(total);
				    },0,'3em');


				    addText(function(){
				        return "건";
				    },25,'1.2en');

				};

				setTimeout(restOfTheData,1000);

				function numberWithCommas(x) {
				    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
				}
			</script>
			<script src="assets/js/index.js"></script>
		</div>
	</div>
</body>
</html>