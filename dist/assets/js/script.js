"use strict";function _createForOfIteratorHelper(o,F){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||F&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=o[Symbol.iterator]()},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Map"===(n="Object"===n&&o.constructor?o.constructor.name:n)||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var header=document.querySelector("header"),logo=document.querySelector("header .logo"),hamburgerMenu=document.querySelectorAll(".hamburger-menu path"),btnScrolltoTop=document.querySelector(".scroll-to-top");function scrollMenu(){50<document.documentElement.scrollTop?(header.classList.add("scroll"),btnScrolltoTop.classList.add("active")):(header.classList.remove("scroll"),btnScrolltoTop.classList.remove("active"))}document.addEventListener("scroll",scrollMenu),btnScrolltoTop.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),document.addEventListener("DOMContentLoaded",function(){var winsize,docScroll,lastScroll,MathUtils={map:function(x,a,b,c,d){return(x-a)*(d-c)/(b-a)+c},lerp:function(a,b,n){return(1-n)*a+n*b},getRandomFloat:function(min,max){return(Math.random()*(max-min)+min).toFixed(2)}},body=document.body,main=function(){return winsize={width:window.innerWidth,height:window.innerHeight}};main(),window.addEventListener("resize",main);var getPageYScroll=function(){return docScroll=window.pageYOffset||document.documentElement.scrollTop};window.addEventListener("scroll",getPageYScroll);var SmoothScroll,Item=function(){function Item(el){var _this=this;_classCallCheck(this,Item),this.DOM={el:el},this.DOM.image=this.DOM.el.querySelector(".image"),this.renderedStyles={imageScale:{previous:0,current:0,ease:.1,setValue:function(){var val=MathUtils.map(_this.props.top-docScroll,winsize.height,-1*_this.props.height,1,1.25);return Math.max(Math.min(val,1.25),1)}},titleTranslationY:{previous:0,current:0,ease:.1,fromValue:Number(MathUtils.getRandomFloat(30,400)),setValue:function(){var fromValue=_this.renderedStyles.titleTranslationY.fromValue,toValue=-1*fromValue,val=MathUtils.map(_this.props.top-docScroll,winsize.height,-1*_this.props.height,fromValue,toValue);return fromValue<0?Math.min(Math.max(val,fromValue),toValue):Math.max(Math.min(val,fromValue),toValue)}}},this.getSize(),this.update(),this.observer=new IntersectionObserver(function(entries){entries.forEach(function(entry){return _this.isVisible=0<entry.intersectionRatio})}),this.observer.observe(this.DOM.el),this.initEvents()}return _createClass(Item,[{key:"update",value:function(){for(var key in this.renderedStyles)this.renderedStyles[key].current=this.renderedStyles[key].previous=this.renderedStyles[key].setValue();this.layout()}},{key:"getSize",value:function(){var rect=this.DOM.el.getBoundingClientRect();this.props={height:rect.height,top:docScroll+rect.top}}},{key:"initEvents",value:function(){var _this2=this;window.addEventListener("resize",function(){return _this2.resize()})}},{key:"resize",value:function(){this.getSize(),this.update()}},{key:"render",value:function(){for(var key in this.renderedStyles)this.renderedStyles[key].current=this.renderedStyles[key].setValue(),this.renderedStyles[key].previous=MathUtils.lerp(this.renderedStyles[key].previous,this.renderedStyles[key].current,this.renderedStyles[key].ease);this.layout()}},{key:"layout",value:function(){this.DOM.image.style.transform="scale3d(".concat(this.renderedStyles.imageScale.previous,",").concat(this.renderedStyles.imageScale.previous,",1)")}}]),Item}(),smoothScroll=document.querySelector("div[data-scroll]");smoothScroll&&(SmoothScroll=function(){function SmoothScroll(){var _this3=this;_classCallCheck(this,SmoothScroll),this.DOM={main:document.querySelector("main")},this.DOM.scrollable=this.DOM.main.querySelector("div[data-scroll]"),this.items=[],this.DOM.content=this.DOM.main.querySelector(".content"),_toConsumableArray(this.DOM.content.querySelectorAll(".image-wrapper")).forEach(function(item){return _this3.items.push(new Item(item))}),this.renderedStyles={translationY:{previous:0,current:0,ease:.1,setValue:function(){return docScroll}}},this.setSize(),this.update(),this.style(),this.initEvents(),requestAnimationFrame(function(){return _this3.render()})}return _createClass(SmoothScroll,[{key:"update",value:function(){for(var key in this.renderedStyles)this.renderedStyles[key].current=this.renderedStyles[key].previous=this.renderedStyles[key].setValue();this.layout()}},{key:"layout",value:function(){this.DOM.scrollable.style.transform="translate3d(0,".concat(-1*this.renderedStyles.translationY.previous,"px,0)")}},{key:"setSize",value:function(){body.style.height="".concat(this.DOM.scrollable.scrollHeight,"px")}},{key:"style",value:function(){this.DOM.main.style.position="fixed",this.DOM.main.style.width=this.DOM.main.style.height="100%",this.DOM.main.style.top=this.DOM.main.style.left=0,this.DOM.main.style.overflow="hidden"}},{key:"initEvents",value:function(){var _this4=this;window.addEventListener("resize",function(){return _this4.setSize()}),window.addEventListener("click",function(){return _this4.setSize()})}},{key:"render",value:function(){var key,_this5=this;for(key in Math.abs(docScroll-lastScroll),lastScroll=docScroll,this.renderedStyles)this.renderedStyles[key].current=this.renderedStyles[key].setValue(),this.renderedStyles[key].previous=MathUtils.lerp(this.renderedStyles[key].previous,this.renderedStyles[key].current,this.renderedStyles[key].ease);this.layout();var _iterator=_createForOfIteratorHelper(this.items);try{for(_iterator.s();!(item=_iterator.n()).done;){var item=item.value;item.isVisible?item.insideViewport?item.render():(item.insideViewport=!0,item.update()):item.insideViewport=!1}}catch(err){_iterator.e(err)}finally{_iterator.f()}requestAnimationFrame(function(){return _this5.render()})}}]),SmoothScroll}(),new Promise(function(resolve,reject){imagesLoaded(document.querySelectorAll(".slide"),{background:!0},resolve)}).then(function(){document.body.classList.remove("loading"),getPageYScroll(),lastScroll=docScroll,new SmoothScroll}));new Promise(function(resolve,reject){imagesLoaded(document.querySelectorAll(".slide"),{background:!0},resolve)}).then(function(){document.body.classList.remove("loading"),getPageYScroll(),lastScroll=docScroll}),document.querySelectorAll(".js-splitted-text").forEach(function(text){text.innerHTML=text.textContent.replace(/./g,"<span>$&</span>"),text.querySelectorAll("span").forEach(function(letter,index){letter.style.animationDelay="".concat(40*index,"ms")})});var main=document.querySelector(".main"),sections=document.querySelectorAll("section"),footer=document.querySelector("footer");main&&(document.addEventListener("scroll",function(){var currentScrollTop=document.documentElement.scrollTop;sections.forEach(function(section){currentScrollTop>=section.offsetTop-800&&(section.style.opacity="1",section.classList.add("active"))}),document.documentElement.scrollTop>=footer.offsetTop-800&&(footer.style.opacity="1");var windowHeight=window.innerHeight,fullHeight=document.body.scrollHeight;matchMedia("(min-width: 768px)").matches&&fullHeight-100<=currentScrollTop+windowHeight&&(document.querySelector("footer").style.opacity="1")}),sections.forEach(function(section){document.documentElement.scrollTop>=section.offsetTop-800&&(section.style.opacity="1")}));var tabMenus=document.querySelectorAll(".tabs li"),tabContents=document.querySelectorAll(".tab-content > div"),activeSection=function(e){e.stopPropagation();var menuIndex=_toConsumableArray(tabMenus).indexOf(e.target);tabMenus.forEach(function(menu){_toConsumableArray(tabMenus).indexOf(menu)===menuIndex?menu.classList.add("active"):menu.classList.remove("active")}),tabContents.forEach(function(content){_toConsumableArray(tabContents).indexOf(content)===menuIndex?content.classList.add("active"):content.classList.remove("active")})};tabMenus&&tabMenus.forEach(function(menu){_toConsumableArray(tabMenus)[0].classList.add("active"),_toConsumableArray(tabContents)[0].classList.add("active"),menu.addEventListener("click",activeSection)}),matchMedia("screen and (max-width: 767px").matches&&smoothScroll&&smoothScroll.removeAttribute("data-scroll")});